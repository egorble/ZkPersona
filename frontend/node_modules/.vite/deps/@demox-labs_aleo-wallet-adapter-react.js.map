{"version":3,"file":"@demox-labs_aleo-wallet-adapter-react.js","names":["react_1","value","react_1","__createBinding","adapter","wallet","wallets","exports"],"sources":["../../@demox-labs/aleo-wallet-adapter-react/dist/useLocalStorage.js","../../@demox-labs/aleo-wallet-adapter-react/dist/useWallet.js","../../@demox-labs/aleo-wallet-adapter-react/dist/WalletProvider.js","../../@demox-labs/aleo-wallet-adapter-react/dist/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useLocalStorage = void 0;\nconst react_1 = require(\"react\");\nfunction useLocalStorage(key, defaultState) {\n    const state = (0, react_1.useState)(() => {\n        try {\n            const value = localStorage.getItem(key);\n            if (value)\n                return JSON.parse(value);\n        }\n        catch (error) {\n            if (typeof window !== 'undefined') {\n                console.error(error);\n            }\n        }\n        return defaultState;\n    });\n    const value = state[0];\n    const isFirstRender = (0, react_1.useRef)(true);\n    (0, react_1.useEffect)(() => {\n        if (isFirstRender.current) {\n            isFirstRender.current = false;\n            return;\n        }\n        try {\n            if (value === null) {\n                localStorage.removeItem(key);\n            }\n            else {\n                localStorage.setItem(key, JSON.stringify(value));\n            }\n        }\n        catch (error) {\n            if (typeof window !== 'undefined') {\n                console.error(error);\n            }\n        }\n    }, [value, key]);\n    return state;\n}\nexports.useLocalStorage = useLocalStorage;\n//# sourceMappingURL=useLocalStorage.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useWallet = exports.WalletContext = void 0;\nconst react_1 = require(\"react\");\nconst EMPTY_ARRAY = [];\nconst DEFAULT_CONTEXT = {\n    autoConnect: false,\n    connecting: false,\n    connected: false,\n    disconnecting: false,\n    select(_name) {\n        console.error(constructMissingProviderErrorMessage('get', 'select'));\n    },\n    connect(_decryptPermission, _network, _programs) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'connect')));\n    },\n    disconnect() {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'disconnect')));\n    },\n    signMessage(_message) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'signMessage')));\n    },\n    decrypt(_cipherText, _tpk, _programId, _functionName, _index) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'decrypt')));\n    },\n    requestRecords(_program) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'requestRecords')));\n    },\n    requestTransaction(_transaction) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'requestTransaction')));\n    },\n    requestExecution(_execution) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'requestExecution')));\n    },\n    requestBulkTransactions(_transactions) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'requestBulkTransactions')));\n    },\n    requestDeploy(_deployment) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'requestDeploy')));\n    },\n    transactionStatus(_transactionId) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'transactionStatus')));\n    },\n    transitionViewKeys(_transactionId) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'transitionViewKeys')));\n    },\n    getExecution(_transactionId) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'getExecution')));\n    },\n    requestRecordPlaintexts(_program) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'requestRecordPlaintexts')));\n    },\n    requestTransactionHistory(_program) {\n        return Promise.reject(console.error(constructMissingProviderErrorMessage('get', 'requestTransactionHistory')));\n    }\n};\nObject.defineProperty(DEFAULT_CONTEXT, 'wallets', {\n    get() {\n        console.error(constructMissingProviderErrorMessage('read', 'wallets'));\n        return EMPTY_ARRAY;\n    },\n});\nObject.defineProperty(DEFAULT_CONTEXT, 'wallet', {\n    get() {\n        console.error(constructMissingProviderErrorMessage('read', 'wallet'));\n        return null;\n    },\n});\nObject.defineProperty(DEFAULT_CONTEXT, 'publicKey', {\n    get() {\n        console.error(constructMissingProviderErrorMessage('read', 'publicKey'));\n        return null;\n    },\n});\nfunction constructMissingProviderErrorMessage(action, valueName) {\n    return ('You have tried to ' +\n        ` ${action} \"${valueName}\"` +\n        ' on a WalletContext without providing one.' +\n        ' Make sure to render a WalletProvider' +\n        ' as an ancestor of the component that uses ' +\n        'WalletContext');\n}\nexports.WalletContext = (0, react_1.createContext)(DEFAULT_CONTEXT);\nfunction useWallet() {\n    return (0, react_1.useContext)(exports.WalletContext);\n}\nexports.useWallet = useWallet;\n//# sourceMappingURL=useWallet.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WalletProvider = void 0;\nconst aleo_wallet_adapter_base_1 = require(\"@demox-labs/aleo-wallet-adapter-base\");\nconst react_1 = __importStar(require(\"react\"));\nconst useLocalStorage_1 = require(\"./useLocalStorage\");\nconst useWallet_1 = require(\"./useWallet\");\nconst initialState = {\n    wallet: null,\n    adapter: null,\n    publicKey: null,\n    connected: false,\n};\nconst WalletProvider = ({ children, wallets: adapters, autoConnect = false, decryptPermission = aleo_wallet_adapter_base_1.DecryptPermission.NoDecrypt, network = aleo_wallet_adapter_base_1.WalletAdapterNetwork.TestnetBeta, onError, localStorageKey = 'walletName', programs = [] }) => {\n    const [name, setName] = (0, useLocalStorage_1.useLocalStorage)(localStorageKey, null);\n    const [{ wallet, adapter, publicKey, connected }, setState] = (0, react_1.useState)(initialState);\n    const readyState = adapter?.readyState || aleo_wallet_adapter_base_1.WalletReadyState.Unsupported;\n    const [connecting, setConnecting] = (0, react_1.useState)(false);\n    const [disconnecting, setDisconnecting] = (0, react_1.useState)(false);\n    const isConnecting = (0, react_1.useRef)(false);\n    const isDisconnecting = (0, react_1.useRef)(false);\n    const isUnloading = (0, react_1.useRef)(false);\n    // Wrap adapters to conform to the `Wallet` interface\n    const [wallets, setWallets] = (0, react_1.useState)(() => adapters.map((adapter) => ({\n        adapter,\n        readyState: adapter.readyState,\n    })));\n    // When the adapters change, start to listen for changes to their `readyState`\n    (0, react_1.useEffect)(() => {\n        // When the adapters change, wrap them to conform to the `Wallet` interface\n        setWallets((wallets) => adapters.map((adapter, index) => {\n            const wallet = wallets[index];\n            // If the wallet hasn't changed, return the same instance\n            return wallet && wallet.adapter === adapter && wallet.readyState === adapter.readyState\n                ? wallet\n                : {\n                    adapter: adapter,\n                    readyState: adapter.readyState,\n                };\n        }));\n        function handleReadyStateChange(readyState) {\n            setWallets((prevWallets) => {\n                const index = prevWallets.findIndex(({ adapter }) => adapter === this);\n                if (index === -1)\n                    return prevWallets;\n                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                const { adapter } = prevWallets[index];\n                return [...prevWallets.slice(0, index), { adapter, readyState }, ...prevWallets.slice(index + 1)];\n            });\n        }\n        adapters.forEach((adapter) => adapter.on('readyStateChange', handleReadyStateChange, adapter));\n        return () => adapters.forEach((adapter) => adapter.off('readyStateChange', handleReadyStateChange, adapter));\n    }, [adapters]);\n    // When the selected wallet changes, initialize the state\n    (0, react_1.useEffect)(() => {\n        const wallet = name && wallets.find(({ adapter }) => adapter.name === name);\n        if (wallet) {\n            setState({\n                wallet,\n                adapter: wallet.adapter,\n                connected: wallet.adapter.connected,\n                publicKey: wallet.adapter.publicKey\n            });\n        }\n        else {\n            setState(initialState);\n        }\n    }, [name, wallets]);\n    // If the window is closing or reloading, ignore disconnect and error events from the adapter\n    (0, react_1.useEffect)(() => {\n        function listener() {\n            isUnloading.current = true;\n        }\n        window.addEventListener('beforeunload', listener);\n        return () => window.removeEventListener('beforeunload', listener);\n    }, [isUnloading]);\n    // Handle the adapter's connect event\n    const handleConnect = (0, react_1.useCallback)(() => {\n        if (!adapter)\n            return;\n        setState((state) => ({ ...state, connected: adapter.connected, publicKey: adapter.publicKey }));\n    }, [adapter]);\n    // Handle the adapter's disconnect event\n    const handleDisconnect = (0, react_1.useCallback)(() => {\n        // Clear the selected wallet unless the window is unloading\n        if (!isUnloading.current)\n            setName(null);\n    }, [isUnloading, setName]);\n    // Handle the adapter's error event, and local errors\n    const handleError = (0, react_1.useCallback)((error) => {\n        // Call onError unless the window is unloading\n        if (!isUnloading.current)\n            (onError || console.error)(error);\n        return error;\n    }, [isUnloading, onError]);\n    // Setup and teardown event listeners when the adapter changes\n    (0, react_1.useEffect)(() => {\n        if (adapter) {\n            adapter.on('connect', handleConnect);\n            adapter.on('disconnect', handleDisconnect);\n            adapter.on('error', handleError);\n            return () => {\n                adapter.off('connect', handleConnect);\n                adapter.off('disconnect', handleDisconnect);\n                adapter.off('error', handleError);\n            };\n        }\n    }, [adapter, handleConnect, handleDisconnect, handleError]);\n    // When the adapter changes, disconnect the old one\n    (0, react_1.useEffect)(() => {\n        return () => {\n            adapter?.disconnect();\n        };\n    }, [adapter]);\n    // If autoConnect is enabled, try to connect when the adapter changes and is ready\n    (0, react_1.useEffect)(() => {\n        if (isConnecting.current ||\n            connected ||\n            !autoConnect ||\n            !adapter ||\n            !(readyState === aleo_wallet_adapter_base_1.WalletReadyState.Installed || readyState === aleo_wallet_adapter_base_1.WalletReadyState.Loadable))\n            return;\n        (async function () {\n            isConnecting.current = true;\n            setConnecting(true);\n            try {\n                await adapter.connect(decryptPermission, network, programs);\n            }\n            catch (error) {\n                // Clear the selected wallet\n                setName(null);\n                // Don't throw error, but handleError will still be called\n            }\n            finally {\n                setConnecting(false);\n                isConnecting.current = false;\n            }\n        })();\n    }, [isConnecting, connected, autoConnect, adapter, readyState, setName]);\n    // Connect the adapter to the wallet\n    const connect = (0, react_1.useCallback)(async () => {\n        if (isConnecting.current || isDisconnecting.current || connected)\n            return;\n        if (!adapter)\n            throw handleError(new aleo_wallet_adapter_base_1.WalletNotSelectedError());\n        if (!(readyState === aleo_wallet_adapter_base_1.WalletReadyState.Installed || readyState === aleo_wallet_adapter_base_1.WalletReadyState.Loadable)) {\n            // Clear the selected wallet\n            setName(null);\n            if (typeof window !== 'undefined') {\n                window.open(adapter.url, '_blank');\n            }\n            throw handleError(new aleo_wallet_adapter_base_1.WalletNotReadyError());\n        }\n        isConnecting.current = true;\n        setConnecting(true);\n        try {\n            await adapter.connect(decryptPermission, network, programs);\n        }\n        catch (error) {\n            // Clear the selected wallet\n            setName(null);\n            // Rethrow the error, and handleError will also be called\n            throw error;\n        }\n        finally {\n            setConnecting(false);\n            isConnecting.current = false;\n        }\n    }, [isConnecting, isDisconnecting, connected, adapter, readyState, handleError, setName]);\n    // Disconnect the adapter from the wallet\n    const disconnect = (0, react_1.useCallback)(async () => {\n        if (isDisconnecting.current)\n            return;\n        if (!adapter)\n            return setName(null);\n        isDisconnecting.current = true;\n        setDisconnecting(true);\n        try {\n            await adapter.disconnect();\n        }\n        catch (error) {\n            // Clear the selected wallet\n            setName(null);\n            // Rethrow the error, and handleError will also be called\n            throw error;\n        }\n        finally {\n            setDisconnecting(false);\n            isDisconnecting.current = false;\n        }\n    }, [isDisconnecting, adapter, setName]);\n    // Sign an arbitrary message if the wallet supports it\n    const signMessage = (0, react_1.useMemo)(() => adapter && 'signMessage' in adapter\n        ? async (message) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.signMessage(message);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Decrypt a ciphertext using the wallet\n    const decrypt = (0, react_1.useMemo)(() => adapter && 'decrypt' in adapter\n        ? async (cipherText, tpk, programId, functionName, index) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.decrypt(cipherText, tpk, programId, functionName, index);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request records for a specific program\n    const requestRecords = (0, react_1.useMemo)(() => adapter && 'requestRecords' in adapter\n        ? async (program) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.requestRecords(program);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request transaction\n    const requestTransaction = (0, react_1.useMemo)(() => adapter && 'requestTransaction' in adapter\n        ? async (transaction) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.requestTransaction(transaction);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request execution\n    const requestExecution = (0, react_1.useMemo)(() => adapter && 'requestExecution' in adapter\n        ? async (transaction) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.requestExecution(transaction);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request bulk transactions\n    const requestBulkTransactions = (0, react_1.useMemo)(() => adapter && 'requestBulkTransactions' in adapter\n        ? async (transactions) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.requestBulkTransactions(transactions);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request deploy\n    const requestDeploy = (0, react_1.useMemo)(() => adapter && 'requestDeploy' in adapter\n        ? async (deployment) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.requestDeploy(deployment);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request transaction status\n    const transactionStatus = (0, react_1.useMemo)(() => adapter && 'transactionStatus' in adapter\n        ? async (transactionId) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.transactionStatus(transactionId);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request transition view keys\n    const transitionViewKeys = (0, react_1.useMemo)(() => adapter && 'transitionViewKeys' in adapter\n        ? async (transactionId) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.transitionViewKeys(transactionId);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request Execution\n    const getExecution = (0, react_1.useMemo)(() => adapter && 'getExecution' in adapter\n        ? async (transactionId) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.getExecution(transactionId);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request the on-chain records plaintexts for a specific program\n    const requestRecordPlaintexts = (0, react_1.useMemo)(() => adapter && 'requestRecordPlaintexts' in adapter\n        ? async (program) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.requestRecordPlaintexts(program);\n        }\n        : undefined, [adapter, handleError, connected]);\n    // Request on-chain transaction history for a specific program\n    const requestTransactionHistory = (0, react_1.useMemo)(() => adapter && 'requestTransactionHistory' in adapter\n        ? async (program) => {\n            if (!connected)\n                throw handleError(new aleo_wallet_adapter_base_1.WalletNotConnectedError());\n            return await adapter.requestTransactionHistory(program);\n        }\n        : undefined, [adapter, handleError, connected]);\n    return (react_1.default.createElement(useWallet_1.WalletContext.Provider, { value: {\n            autoConnect,\n            decryptPermission,\n            wallets,\n            wallet,\n            publicKey,\n            connected,\n            connecting,\n            disconnecting,\n            select: setName,\n            connect,\n            disconnect,\n            signMessage,\n            decrypt,\n            requestRecords,\n            requestTransaction,\n            requestExecution,\n            requestBulkTransactions,\n            requestDeploy,\n            transactionStatus,\n            transitionViewKeys,\n            getExecution,\n            requestRecordPlaintexts,\n            requestTransactionHistory\n        } }, children));\n};\nexports.WalletProvider = WalletProvider;\n//# sourceMappingURL=WalletProvider.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./WalletProvider\"), exports);\n__exportStar(require(\"./useLocalStorage\"), exports);\n__exportStar(require(\"./useWallet\"), exports);\n//# sourceMappingURL=index.js.map"],"mappings":"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"}